<h1> Edit Books </h1>

<%= form_with(model: @book, local: true) do |form|%>
    <% if @book.errors.any?%>
        <div id="error_explanation">
            <h2>
                <%= pluralize(@book.errors.count, "error")%>
                prohibited this book from being saved:
            </h2>
            <ul>
                <% @book.errors.full.messages.each do |msg| %>
                <li><%= msg %></li>
                <%end%>
            </ul>
        </div>
    <% end %>

    
    <p>
        <%=form.label :book_title%><br>
        <%=form.text_field :book_title%>
    </p>

    <p>
        <%=form.label :author_id%><br>
        <%=collection_select(:book, :author_id, @authors, :id, :author_name, {:prompt => false}) %><br>
    </p>

    <p>
        <%=form.label :genre_id%><br>
        <%=collection_select(:book, :genre_id, @genres, :id, :genre_name, {:prompt => false})%><br>
    </p>

    <p>
        <%=form.submit%>
    </p>

<%end%>

